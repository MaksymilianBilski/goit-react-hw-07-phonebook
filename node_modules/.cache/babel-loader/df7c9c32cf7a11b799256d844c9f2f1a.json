{"ast":null,"code":"var _jsxFileName = \"M:\\\\programy\\\\Programy_kodowanie\\\\github\\\\goit-react-hw-06-phonebook\\\\src\\\\context\\\\PhonebookContext.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useContext, createContext, useEffect, useState } from 'react';\nimport { nanoid } from 'nanoid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addContact, setContacts } from 'redux/actions';\nimport { getContacts, getFilter } from 'redux/selectors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PhonebookContext = /*#__PURE__*/createContext();\nexport const usePhonebookContext = () => {\n  _s();\n\n  return useContext(PhonebookContext);\n};\n\n_s(usePhonebookContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst PhonebookProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const dispatch = useDispatch(); // const [contacts, setContacts] = useState([]);\n\n  const [filter, setFilter] = useState('');\n  useEffect(() => {\n    if (JSON.parse(localStorage.getItem('contacts')) === undefined || JSON.parse(localStorage.getItem('contacts')) === null) {\n      return;\n    }\n\n    const localUsers = JSON.parse(localStorage.getItem('contacts'));\n    dispatch(setContacts(...localUsers));\n  }, [dispatch]);\n\n  const onFilterChange = evt => {\n    setFilter(evt.target.value);\n  };\n\n  const onContactDelete = id => {\n    const contacts = getContacts();\n    const deletedContacts = contacts.filter(contact => contact.id !== id);\n    setContacts(deletedContacts);\n    localStorage.setItem('contacts', JSON.stringify(deletedContacts));\n  };\n\n  return /*#__PURE__*/_jsxDEV(PhonebookContext.Provider, {\n    value: {\n      onContactDelete,\n      onFilterChange,\n      onFormSubmit,\n      filter\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(PhonebookProvider, \"9Plki01lh6bkFXJMhRUt5GP49rI=\", false, function () {\n  return [useDispatch];\n});\n\n_c = PhonebookProvider;\nexport default PhonebookProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"PhonebookProvider\");","map":{"version":3,"sources":["M:/programy/Programy_kodowanie/github/goit-react-hw-06-phonebook/src/context/PhonebookContext.jsx"],"names":["useContext","createContext","useEffect","useState","nanoid","useDispatch","useSelector","addContact","setContacts","getContacts","getFilter","PhonebookContext","usePhonebookContext","PhonebookProvider","children","dispatch","filter","setFilter","JSON","parse","localStorage","getItem","undefined","localUsers","onFilterChange","evt","target","value","onContactDelete","id","contacts","deletedContacts","contact","setItem","stringify","onFormSubmit"],"mappings":";;;;AAAA,SAASA,UAAT,EAAqBC,aAArB,EAAoCC,SAApC,EAA+CC,QAA/C,QAA+D,OAA/D;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,eAAxC;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,iBAAvC;;AAEA,OAAO,MAAMC,gBAAgB,gBAAGV,aAAa,EAAtC;AACP,OAAO,MAAMW,mBAAmB,GAAG;AAAA;;AAAA,SAAMZ,UAAU,CAACW,gBAAD,CAAhB;AAAA,CAA5B;;GAAMC,mB;;AAEb,MAAMC,iBAAiB,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AAC1C,QAAMC,QAAQ,GAAGV,WAAW,EAA5B,CAD0C,CAE1C;;AACA,QAAM,CAACW,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QACEgB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,MAAiDC,SAAjD,IACAJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,MAAiD,IAFnD,EAGE;AACA;AACD;;AACD,UAAME,UAAU,GAAGL,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAnB;AAEAN,IAAAA,QAAQ,CAACP,WAAW,CAAC,GAAGe,UAAJ,CAAZ,CAAR;AACD,GAVQ,EAUN,CAACR,QAAD,CAVM,CAAT;;AAaA,QAAMS,cAAc,GAAGC,GAAG,IAAI;AAC5BR,IAAAA,SAAS,CAACQ,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAT;AACD,GAFD;;AAIA,QAAMC,eAAe,GAAGC,EAAE,IAAI;AAC5B,UAAMC,QAAQ,GAAGrB,WAAW,EAA5B;AACA,UAAMsB,eAAe,GAAGD,QAAQ,CAACd,MAAT,CAAgBgB,OAAO,IAAIA,OAAO,CAACH,EAAR,KAAeA,EAA1C,CAAxB;AACArB,IAAAA,WAAW,CAACuB,eAAD,CAAX;AACAX,IAAAA,YAAY,CAACa,OAAb,CAAqB,UAArB,EAAiCf,IAAI,CAACgB,SAAL,CAAeH,eAAf,CAAjC;AACD,GALD;;AAOA,sBACE,QAAC,gBAAD,CAAkB,QAAlB;AACE,IAAA,KAAK,EAAE;AACLH,MAAAA,eADK;AAELJ,MAAAA,cAFK;AAGLW,MAAAA,YAHK;AAILnB,MAAAA;AAJK,KADT;AAAA,cAQGF;AARH;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CAzCD;;IAAMD,iB;UACaR,W;;;KADbQ,iB;AA2CN,eAAeA,iBAAf","sourcesContent":["import { useContext, createContext, useEffect, useState } from 'react';\r\nimport { nanoid } from 'nanoid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addContact, setContacts } from 'redux/actions';\r\nimport { getContacts, getFilter } from 'redux/selectors';\r\n\r\nexport const PhonebookContext = createContext();\r\nexport const usePhonebookContext = () => useContext(PhonebookContext);\r\n\r\nconst PhonebookProvider = ({ children }) => {\r\n  const dispatch = useDispatch();\r\n  // const [contacts, setContacts] = useState([]);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (\r\n      JSON.parse(localStorage.getItem('contacts')) === undefined ||\r\n      JSON.parse(localStorage.getItem('contacts')) === null\r\n    ) {\r\n      return;\r\n    }\r\n    const localUsers = JSON.parse(localStorage.getItem('contacts'));\r\n\r\n    dispatch(setContacts(...localUsers));\r\n  }, [dispatch]);\r\n\r\n \r\n  const onFilterChange = evt => {\r\n    setFilter(evt.target.value);\r\n  };\r\n\r\n  const onContactDelete = id => {\r\n    const contacts = getContacts();\r\n    const deletedContacts = contacts.filter(contact => contact.id !== id);\r\n    setContacts(deletedContacts);\r\n    localStorage.setItem('contacts', JSON.stringify(deletedContacts));\r\n  };\r\n\r\n  return (\r\n    <PhonebookContext.Provider\r\n      value={{\r\n        onContactDelete,\r\n        onFilterChange,\r\n        onFormSubmit,\r\n        filter,\r\n      }}\r\n    >\r\n      {children}\r\n    </PhonebookContext.Provider>\r\n  );\r\n};\r\n\r\nexport default PhonebookProvider;\r\n"]},"metadata":{},"sourceType":"module"}